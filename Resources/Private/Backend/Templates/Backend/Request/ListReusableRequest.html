<html
    xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers"
    xmlns:core="http://typo3.org/ns/TYPO3/CMS/Core/ViewHelpers"
    xmlns:be="http://typo3.org/ns/TYPO3/CMS/Backend/ViewHelpers"
    data-namespace-typo3-fluid="true">

<f:layout name="Default"/>

<f:section name="Content">
    <f:be.pageRenderer
        includeJavaScriptModules="{0: '{f:uri.resource(path:\'JavaScript/dist/request.js\', extensionName: \'XimaApiClient\')}', 1: '{f:uri.resource(path:\'JavaScript/dist/loader.js\', extensionName: \'XimaApiClient\')}', 1: '{f:uri.resource(path:\'JavaScript/dist/loader.js\', extensionName: \'XimaApiClient\')}', 2: '{f:uri.resource(path:\'JavaScript/dist/confirm.js\', extensionName: \'XimaApiClient\')}'}"
    />

    <h1>Reusable Requests</h1>
    <f:render partial="ReusableRequest/Filter" arguments="{_all}"/>
    <div class="table-fit">
        <table class="reusable-request-table table table-striped table-hover">
            <thead>
            <tr>
                <th><f:render partial="ReusableRequest/Sort" arguments="{identifier:'uid',filter:filter,name: 'UID'}"/></th>
                <th class="col-title"><f:render partial="ReusableRequest/Sort" arguments="{identifier:'name',filter:filter,name: 'Name'}"/></th>
                <th>Description</th>
                <th><f:render partial="ReusableRequest/Sort" arguments="{identifier:'method',filter:filter,name: 'Method'}"/></th>
                <th>Client alias</th>
                <th>Endpoint</th>
                <th><f:render partial="ReusableRequest/Sort" arguments="{identifier:'tag',filter:filter,name: 'Tag'}"/></th>
                <th>Caching</th>
                <th class="col-control"></th>
            </tr>
            </thead>
            <tbody>
            <f:for each="{paginator.paginatedItems}" as="reusableRequest">
                <f:render partial="ReusableRequest/ListItem" arguments="{request: reusableRequest}" />
            </f:for>
            </tbody>
        </table>
    </div>

    <f:render partial="ReusableRequest/Pagination" arguments="{pagination: pagination, paginator: paginator, pages:pages, actionName: 'listReusableRequest', filter:filter}" />
</f:section>

</html>
